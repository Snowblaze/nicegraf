\hypertarget{structngf__cmd__buffer}{}\doxysection{ngf\+\_\+cmd\+\_\+buffer Struct Reference}
\label{structngf__cmd__buffer}\index{ngf\_cmd\_buffer@{ngf\_cmd\_buffer}}


\doxysubsection{Detailed Description}
Encodes a series of rendering commands.

Internally, a command buffer may be in any of the following five states\+:
\begin{DoxyItemize}
\item new;
\item ready;
\item recording;
\item awaiting submission;
\item submitted.
\end{DoxyItemize}

Every newly created command buffer is in the \char`\"{}new\char`\"{} state. It can be transitioned to the \char`\"{}ready\char`\"{} state by calling \mbox{\hyperlink{group__ngf_ga52027dd2cf70d4530d60edabe5a6019c}{ngf\+\_\+start\+\_\+cmd\+\_\+buffer}} on it.

When a command buffer is in the \char`\"{}ready\char`\"{} state, you may begin recording a new series of rendering commands into it.

Recording commands into a command buffer is performed using command encoders. There are a few different types of encoders, supporting different types of commands.

A new encoder may be created for a command buffer only if the command buffer is in either the \char`\"{}ready\char`\"{} or the \char`\"{}awaiting submission\char`\"{} state.

Creating a new encoder for a command buffer transitions that command buffer to the \char`\"{}recording\char`\"{} state.

Finishing and disposing of an active encoder transitions its corresponding command buffer into the \char`\"{}awaiting submission\char`\"{} state.

The three rules above mean that a command buffer may not have more than one encoder active at a given time.

Once all of the desired commands have been recorded, and the command buffer is in the \char`\"{}awaiting submission\char`\"{} state, the command buffer may be submitted for execution via a call to \mbox{\hyperlink{group__ngf_ga19a0228d5d5568d37d3a75f1f91353e4}{ngf\+\_\+submit\+\_\+cmd\+\_\+buffers}}, which transitions it into the \char`\"{}submitted\char`\"{} state.

Submission may only be performed on command buffers that are in the \char`\"{}awaiting submission\char`\"{} state.

Once a command buffer is in the \char`\"{}submitted\char`\"{} state, it is impossible to append any new commands to it. It is, however, possible to begin recording a new, completely separate batch of commands by calling \mbox{\hyperlink{group__ngf_ga52027dd2cf70d4530d60edabe5a6019c}{ngf\+\_\+start\+\_\+cmd\+\_\+buffer}} which implicitly transitions the buffer to the \char`\"{}ready\char`\"{} state if it is already \char`\"{}submitted\char`\"{}. This does not affect any previously submitted commands.

Calling a command buffer function on a buffer that is in a state not expected by that function will result in an error. For example, calling \mbox{\hyperlink{group__ngf_ga19a0228d5d5568d37d3a75f1f91353e4}{ngf\+\_\+submit\+\_\+cmd\+\_\+buffers}} would produce an error on a buffer that is in the \char`\"{}ready\char`\"{} state, since, according to the rules outlined above, \mbox{\hyperlink{group__ngf_ga19a0228d5d5568d37d3a75f1f91353e4}{ngf\+\_\+submit\+\_\+cmd\+\_\+buffers}} expects command buffers to be in the \char`\"{}awaiting submission\char`\"{} state. 